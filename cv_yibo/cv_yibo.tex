
\documentclass{resume}  % Use the custom resume.cls style
\usepackage[UTF8]{ctex} % support Chinese characters
\usepackage[left=0.75in,top=0.6in,right=0.75in,bottom=0.6in]{geometry} % Document margins
\usepackage{enumitem}
\usepackage{url}
\usepackage{hyperref}
\usepackage{xcolor}
\hypersetup{
    colorlinks,
    linkcolor={red!50!black},
    citecolor={blue!50!black},
    urlcolor={blue!80!black}
}

\makeatletter

% Functional foreach construct 
% #1 - Function to call on each comma-separated item in #2
% #2 - Comma-separated list of items to pass as second parameter to function #1
\def\foreach#1#2{%
  \@foreach{#1}#2,\@end@token%
}

% Internal helper function - Eats one input
\def\@swallow#1{}

% Internal helper function - Checks the next character after #1 and 
% continues loop iteration if \@end@token is not found 
\def\@test@foreach#1{%
  \@ifnextchar\@end@token%
    {\@swallow}%
    {, \@foreach{#1}}%
}

% Internal helper function - Calls #1{#2} and recurses
% The magic of splitting the third parameter occurs in the pattern matching of the \def
\def\@foreach#1#2,#3\@end@token{%
  #1{#2}%
  \@test@foreach{#1}#3\@end@token%
}

\makeatother

\newcommand{\DefMacro}[2]{\expandafter\newcommand\csname rmk-#1\endcsname{#2}}
\newcommand{\UseMacro}[1]{\csname rmk-#1\endcsname}
\def\CiteMacro#1{[\foreach{\UseMacro}{#1}]}

\name{Yibo Lin}

\address{Assistant Professor \\ Department of Design Automation and Computing System}
\address{Science Building \#5, 5 Yiheyuan Road, Beijing, China, 100871 \\ Peking University}
\address{yibolin@pku.edu.cn \\ \url{www.yibolin.com}}

\begin{document}

\input{doc/interest}
\input{doc/education}
\input{doc/experience}
\input{doc/teaching}
\input{doc/award}
%\input{doc/skills}
%\input{doc/courses}
\input{doc/service}
% \newpage
\input{doc/publication}
%\input{doc/service}
%\clearpage
%\input{doc/reference}
%\input{doc/reference_sim}

\end{document}

